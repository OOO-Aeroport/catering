# Модуль службы питания аэропорта
Модуль службы питания аэропорта предназначен для обслуживания самолетов после их приземления. 
Он осуществляет выполнение заказов на выгрузку пищевых отходов с борта и загрузку наборов питания на борт. 
Когда выгрузка пищевых отходов с борта завершена, модуль уведомляет Самолет (Board) и Управление наземным обслуживанием (UNO) о завершении выгрузки пищевых отходов. 
Когда загрузка наборов питания на борт завершена, модуль уведомляет Самолет (Board) и Управление наземным обслуживанием (UNO) о завершении загрузки наборов питания. 

## Основные функции  
1) Приём заказов на выгрузку пищевых отходов
2) Выгрузка пищевых отходов с борта
3) Уведомление Самолёта о завершении выгрузки пищевых отходов
4) Уведомление Управления наземным обслуживанием о завершении выгрузки пищевых отходов
5) Приём заказов на загрузку наборов питания
6) Загрузка наборов питания на борт
7) Уведомление Самолёта о завершении загрузки наборов питания
8) Уведомление Управления наземным обслуживанием о завершении загрузки наборов питания

## Зависимости 
- **Java 17**
- **`spring-boot-starter` (версия 3.4.2)**
- **`spring-boot-starter-web` (версия 3.4.2)**
- **`spring-cloud-starter-openfeign` (версия 4.2.0)**
- **`springdoc-openapi-starter-webmvc-ui` (версия 2.0.2)**
- **`spring-boot-configuration-processor` (версия 3.4.2)**
- **`lombok` (версия 1.18.36)**
- **`spring-boot-starter-thymeleaf` (версия 3.4.2)**

## Установка и запуск
1) Убедитесь, что у вас установлены Java 17 и Maven
2) Клонируйте репозиторий
   ```bash
    git clone https://github.com/your-repo/Airport.git
   ```
3) Перейдите в директорию проекта
   ```
   cd Airport
   ```
4) Соберите проект с помощью Maven
   ```
   mvn clean install
   ```
5) Запустите приложение
   ```
   mvn spring-boot:run
   ```

## API Reference
### Контроллер: OrderController    
Контроллер OrderController отвечает за обработку запросов, связанных с заказами на обслуживание самолетов. Он получает отчеты о выполнении заказов от различных служб (например, follow-me, baggage-discharge, passengers-discharge и т.д.) и обновляет статус заказов.   

Базовый URL:
/uno/api/v1/order   
Методы  

**1) Отчет о выполнении заказа от службы follow-me**  
*URL: /successReport/{orderId}/follow-me*

Метод: POST

Описание: Получает отчет о выполнении заказа от службы follow-me и передает заказ на выполнение в службу питания (catering) и службу багажа (PBC).

Параметры:

orderId (Long): Идентификатор заказа.


**2) Отчет о выполнении заказа от службы baggage-discharge**   
*URL: /successReport/{orderId}/baggage-discharge*    

Метод: POST

Описание: Получает отчет о выполнении заказа от службы baggage-discharge и обновляет этап выполнения заказа.

Параметры:

orderId (Long): Идентификатор заказа.


**3) Отчет о выполнении заказа от службы passengers-discharge**   
*URL: /successReport/{orderId}/passengers-discharge*   

Метод: POST

Описание: Получает отчет о выполнении заказа от службы passengers-discharge, обновляет этап выполнения заказа и передает заказ на топливозаправщик (tanker-truck).

Параметры:

orderId (Long): Идентификатор заказа.


**4) Отчет о выполнении заказа от службы tanker-truck**   
*URL: /successReport/{orderId}/tanker-truck*  

Метод: POST

Описание: Получает отчет о выполнении заказа от службы tanker-truck и обновляет этап выполнения заказа.

Параметры:

orderId (Long): Идентификатор заказа.


**5) Отчет о выполнении заказа от службы passengers-loading**   
*URL: /successReport/{orderId}/passengers-loading*   

Метод: POST

Описание: Получает отчет о выполнении заказа от службы passengers-loading и обновляет этап выполнения заказа.

Параметры:

orderId (Long): Идентификатор заказа.


**6) Отчет о выполнении заказа от службы baggage-loading**   
*URL: /successReport/{orderId}/baggage-loading*  

Метод: POST

Описание: Получает отчет о выполнении заказа от службы baggage-loading и обновляет этап выполнения заказа.

Параметры:

orderId (Long): Идентификатор заказа.


**7) Отчет о выполнении заказа от службы catering-unload**   
*URL: /successReport/{orderId}/catering-unload* 

Метод: POST

Описание: Получает отчет о выполнении заказа от службы catering-unload и обновляет этап выполнения заказа.

Параметры:

orderId (Long): Идентификатор заказа.


**8) Отчет о выполнении заказа от службы catering-load**   
*URL: /successReport/{orderId}/catering-load*  

Метод: POST

Описание: Получает отчет о выполнении заказа от службы catering-load и обновляет этап выполнения заказа.

Параметры:

orderId (Long): Идентификатор заказа.


**9) Получение заказа от регистрации**   
*URL: /order-from-registration*

Метод: POST

Описание: Получает заказ от регистрации и передает его на выполнение в службу питания (catering) и службу багажа (PBC).

Параметры:

RequestFromRegistration (тело запроса): Объект с данными о заказе.

Пример JSON:

```
{
  "planeId": 123,
  "baggage": 10,
  "food": 5,
  "passengers": [
    {
      "passengerId": 1
    },
    {
      "passengerId": 2
    }
  ]
}
```
Логирование: Логирует получение заказа.

**10) Получение всех заказов**   
*URL: /getAllOrders*

Метод: GET

Описание: Возвращает список всех заказов для отображения на dashboard.


### Контроллер: PlaneController     
Контроллер PlaneController отвечает за создание нового самолета и инициализацию заказа на его обслуживание. Он сохраняет информацию о самолете и передает заказ на выполнение службе follow-me.

Базовый URL:  
/uno/api/v1/plane   

Методы   
***1) Создание самолета и инициализация заказа***    
*URL: /{planeId}/{fuel}/create-plane*      

Метод: POST    

Описание: Создает новый самолет с указанным идентификатором и количеством топлива, сохраняет заказ на его обслуживание и передает заказ службе follow-me.

Параметры:

planeId (Integer): Идентификатор самолета.

fuel (Integer): Количество топлива, которое необходимо заправить.
